<section id="profile-test-details-container">
  <mat-card>
    <mat-card-title>Profile Test Details</mat-card-title>
    <mat-card-subtitle>Details for selected Profile Test</mat-card-subtitle>
    <mat-divider></mat-divider>
    <mat-card-content>
      <mat-card-title>Profile Test Information</mat-card-title>
      <mat-card-content>
        <section class="profile-test-information">
          <!-- DOS Code -->
          <section class="sub-title">ECL DOS Code</section>
          <section>{{ test.eclDosCode }}</section>

          <!-- Patient Phone Number -->
          <section class="sub-title">CPT Code</section>
          <section>{{ test.cptCode }}</section>

          <!-- Patient Mobile Number -->
          <section class="sub-title">Test Name</section>
          <section>{{ test.testName }}</section>

          <!-- Patient EMail Address -->
          <section class="sub-title">Specimen</section>
          <section>{{ test.specimen }}</section>

          <!-- Patient DOB -->
          <section class="sub-title">Storage</section>
          <section>{{ test.storage }}</section>

          <!-- Patient DOB -->
          <section class="sub-title">Patient Fee</section>
          <section>{{ test.patientFee }}</section>

          <!-- Patient DOB -->
          <section class="sub-title">Net Fee</section>
          <section>{{ test.netFee }}</section>

          <!-- Patient DOB -->
          <section class="sub-title">Department</section>
          <section>{{ test.department }}</section>

          <!-- Patient DOB -->
          <section class="sub-title">Currency</section>
          <section>{{ test.currency }}</section>
        </section>
      </mat-card-content>
      <mat-card-title>Combined Tests</mat-card-title>
      <mat-divider></mat-divider>
      <table mat-table [dataSource]="test.combinedTest" class="full-width">
        <!-- Dos Code -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef>DOS Code</th>
          <td mat-cell *matCellDef="let element">{{ element.dosCode }}</td>
        </ng-container>

        <!-- Test Id -->
        <ng-container matColumnDef="testId">
          <th mat-header-cell *matHeaderCellDef>Test Id</th>
          <td mat-cell *matCellDef="let element">{{ element.testId }}</td>
        </ng-container>

        <!-- CPT Code -->
        <ng-container matColumnDef="cptCode">
          <th mat-header-cell *matHeaderCellDef>CPT Code</th>
          <td mat-cell *matCellDef="let element">{{ element.cptCode }}</td>
        </ng-container>

        <!-- Test Name -->
        <ng-container matColumnDef="testName">
          <th mat-header-cell *matHeaderCellDef>Test Name</th>
          <td mat-cell *matCellDef="let element">{{ element.testName }}</td>
        </ng-container>

        <!-- Specimen Type -->
        <ng-container matColumnDef="specimenType">
          <th mat-header-cell *matHeaderCellDef>Specimen Type</th>
          <td mat-cell *matCellDef="let element">{{ element.specimenType }}</td>
        </ng-container>

        <!-- Storage -->
        <ng-container matColumnDef="storage">
          <th mat-header-cell *matHeaderCellDef>Storage</th>
          <td mat-cell *matCellDef="let element">{{ element.storage.StorageName }}</td>
        </ng-container>

        <!-- department -->
        <ng-container matColumnDef="department">
          <th mat-header-cell *matHeaderCellDef>Department</th>
          <td mat-cell *matCellDef="let element">{{ element.department.departmentName }}</td>
        </ng-container>

        <!-- Location -->
        <ng-container matColumnDef="location">
          <th mat-header-cell *matHeaderCellDef>Location</th>
          <td mat-cell *matCellDef="let element">{{ element.location }}</td>
        </ng-container>

        <!-- Currency -->
        <ng-container matColumnDef="currency">
          <th mat-header-cell *matHeaderCellDef>Currency</th>
          <td mat-cell *matCellDef="let element">{{ element.currency }}</td>
        </ng-container>

        <!-- status -->
        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef>Status</th>
          <td mat-cell *matCellDef="let element">{{ element.status }}</td>
        </ng-container>

        <!--Action-->
        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef>
            <section class="actions-wrapper">
              <button  mat-button color="primary" disableRipple (click)="onAddCombinedTestClicked()">
                <mat-icon>add</mat-icon>
              </button>
              <app-column-chooser
                [columns]="filteredColumns"
                (closed)="onColumnChooserClosed($event)"
              ></app-column-chooser>
            </section>
          </th>
          <td mat-cell *matCellDef="let element">
            <section class="actions-wrapper">
              <button class="delete-button" mat-button color="warn" disableRipple>
                <mat-icon>delete_outline</mat-icon>
              </button>
            </section>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>


      <section *ngIf="!test">
        <section class="mt-3 mb-3 mat-card-subtitle" fxFlex fxLayoutAlign="center center">
          No Test(s) Found
        </section>
      </section>
    </mat-card-content>
  </mat-card>
</section>
